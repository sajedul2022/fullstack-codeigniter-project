{"ast":null,"code":"import _defineProperty from\"E:/xampp/htdocs/inventory-react-php-mysql/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"E:/xampp/htdocs/inventory-react-php-mysql/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"E:/xampp/htdocs/inventory-react-php-mysql/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var EditProduct=function EditProduct(){var params=useParams();var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];console.log(product);var submitValue=function submitValue(e){e.preventDefault();productsubmit();};// Update data send to Database\nvar productsubmit=function productsubmit(){return axios.post(\"http://localhost/inventory-react-php-mysql/api/product/updateproduct.php\",{prid:product.id,prname:product.name,prprice:product.price,prdet:product.details}).then(function(res){navigate(\"/products\");//console.log(res.data.product.prdata[0]);\n});};useEffect(function(){productone(params.pid);},[]);//console.log(\"MyID:\" + params.pid);\nvar changeValue=function changeValue(e){setProduct(_objectSpread(_objectSpread({},product),{},_defineProperty({},e.target.name,e.target.value)));};// Data Display for Editing\nvar productone=function productone(id){return axios.post(\"http://localhost/wdpf51_reactjs/22nov2022/reactapp2/api/getproduct.php\",{prid:id}).then(function(res){setProduct(res.data.product.prdata[0]);//console.log(res.data.product.prdata[0]);\n}).catch(function(error){return console.log(error);});};return/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Edit Product\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitValue,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:product.name,onChange:changeValue,className:\"form-control\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Details\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",name:\"details\",value:product.details,onChange:changeValue,type:\"text\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Product Price\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",onChange:changeValue,name:\"price\",value:product.price})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Update\"})]})]});};export default EditProduct;","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","EditProduct","params","navigate","product","setProduct","console","log","submitValue","e","preventDefault","productsubmit","post","prid","id","prname","name","prprice","price","prdet","details","then","res","productone","pid","changeValue","target","value","data","prdata","catch","error"],"sources":["E:/xampp/htdocs/inventory-react-php-mysql/src/product/EditProduct.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\n\r\nconst EditProduct = () => {\r\n  const params = useParams();\r\n  const navigate = useNavigate();\r\n  const [product, setProduct] = useState([]);\r\n\r\n  console.log(product);\r\n\r\n  const submitValue = (e) => {\r\n    e.preventDefault();\r\n    productsubmit();\r\n  };\r\n  // Update data send to Database\r\n  const productsubmit = () =>\r\n    axios\r\n      .post(\r\n        \"http://localhost/inventory-react-php-mysql/api/product/updateproduct.php\",\r\n        {\r\n          prid: product.id,\r\n          prname: product.name,\r\n          prprice: product.price,\r\n          prdet: product.details,\r\n        }\r\n      )\r\n      .then((res) => {\r\n        navigate(\"/products\");\r\n        //console.log(res.data.product.prdata[0]);\r\n      });\r\n\r\n  useEffect(() => {\r\n    productone(params.pid);\r\n  }, []);\r\n  //console.log(\"MyID:\" + params.pid);\r\n  const changeValue = (e) => {\r\n    setProduct({ ...product, [e.target.name]: e.target.value });\r\n  };\r\n  // Data Display for Editing\r\n  const productone = (id) =>\r\n    axios\r\n      .post(\r\n        \"http://localhost/wdpf51_reactjs/22nov2022/reactapp2/api/getproduct.php\",\r\n        { prid: id }\r\n      )\r\n      .then((res) => {\r\n        setProduct(res.data.product.prdata[0]);\r\n        //console.log(res.data.product.prdata[0]);\r\n      })\r\n      .catch((error) => console.log(error));\r\n\r\n  return (\r\n    <div className=\"col-sm-8\">\r\n      <h1>Edit Product</h1>\r\n      <form onSubmit={submitValue}>\r\n        <div className=\"form-group\">\r\n          <label>Product Name</label>\r\n          <input\r\n            type=\"text\"\r\n            name=\"name\"\r\n            value={product.name}\r\n            onChange={changeValue}\r\n            className=\"form-control\"\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Product Details</label>\r\n          <textarea\r\n            className=\"form-control\"\r\n            name=\"details\"\r\n            value={product.details}\r\n            onChange={changeValue}\r\n            type=\"text\"\r\n          ></textarea>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Product Price</label>\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            onChange={changeValue}\r\n            name=\"price\"\r\n            value={product.price}\r\n          />\r\n        </div>\r\n        <button type=\"submit\" className=\"btn btn-primary\">\r\n          Update\r\n        </button>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default EditProduct;\r\n"],"mappings":"8XAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CACzD,MAAOC,MAAK,KAAM,OAAO,CAAC,wFAE1B,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAMC,OAAM,CAAGJ,SAAS,EAAE,CAC1B,GAAMK,SAAQ,CAAGJ,WAAW,EAAE,CAC9B,cAA8BH,QAAQ,CAAC,EAAE,CAAC,wCAAnCQ,OAAO,eAAEC,UAAU,eAE1BC,OAAO,CAACC,GAAG,CAACH,OAAO,CAAC,CAEpB,GAAMI,YAAW,CAAG,QAAdA,YAAW,CAAIC,CAAC,CAAK,CACzBA,CAAC,CAACC,cAAc,EAAE,CAClBC,aAAa,EAAE,CACjB,CAAC,CACD;AACA,GAAMA,cAAa,CAAG,QAAhBA,cAAa,SACjBX,MAAK,CACFY,IAAI,CACH,0EAA0E,CAC1E,CACEC,IAAI,CAAET,OAAO,CAACU,EAAE,CAChBC,MAAM,CAAEX,OAAO,CAACY,IAAI,CACpBC,OAAO,CAAEb,OAAO,CAACc,KAAK,CACtBC,KAAK,CAAEf,OAAO,CAACgB,OACjB,CAAC,CACF,CACAC,IAAI,CAAC,SAACC,GAAG,CAAK,CACbnB,QAAQ,CAAC,WAAW,CAAC,CACrB;AACF,CAAC,CAAC,GAENN,SAAS,CAAC,UAAM,CACd0B,UAAU,CAACrB,MAAM,CAACsB,GAAG,CAAC,CACxB,CAAC,CAAE,EAAE,CAAC,CACN;AACA,GAAMC,YAAW,CAAG,QAAdA,YAAW,CAAIhB,CAAC,CAAK,CACzBJ,UAAU,gCAAMD,OAAO,wBAAGK,CAAC,CAACiB,MAAM,CAACV,IAAI,CAAGP,CAAC,CAACiB,MAAM,CAACC,KAAK,GAAG,CAC7D,CAAC,CACD;AACA,GAAMJ,WAAU,CAAG,QAAbA,WAAU,CAAIT,EAAE,QACpBd,MAAK,CACFY,IAAI,CACH,wEAAwE,CACxE,CAAEC,IAAI,CAAEC,EAAG,CAAC,CACb,CACAO,IAAI,CAAC,SAACC,GAAG,CAAK,CACbjB,UAAU,CAACiB,GAAG,CAACM,IAAI,CAACxB,OAAO,CAACyB,MAAM,CAAC,CAAC,CAAC,CAAC,CACtC;AACF,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,KAAK,QAAKzB,QAAO,CAACC,GAAG,CAACwB,KAAK,CAAC,GAAC,GAEzC,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,oCAAqB,cACrB,cAAM,QAAQ,CAAEvB,WAAY,wBAC1B,aAAK,SAAS,CAAC,YAAY,wBACzB,uCAA2B,cAC3B,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,MAAM,CACX,KAAK,CAAEJ,OAAO,CAACY,IAAK,CACpB,QAAQ,CAAES,WAAY,CACtB,SAAS,CAAC,cAAc,EACxB,GACE,cACN,aAAK,SAAS,CAAC,YAAY,wBACzB,0CAA8B,cAC9B,iBACE,SAAS,CAAC,cAAc,CACxB,IAAI,CAAC,SAAS,CACd,KAAK,CAAErB,OAAO,CAACgB,OAAQ,CACvB,QAAQ,CAAEK,WAAY,CACtB,IAAI,CAAC,MAAM,EACD,GACR,cACN,aAAK,SAAS,CAAC,YAAY,wBACzB,wCAA4B,cAC5B,cACE,IAAI,CAAC,MAAM,CACX,SAAS,CAAC,cAAc,CACxB,QAAQ,CAAEA,WAAY,CACtB,IAAI,CAAC,OAAO,CACZ,KAAK,CAAErB,OAAO,CAACc,KAAM,EACrB,GACE,cACN,eAAQ,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC,iBAAiB,oBAExC,GACJ,GACH,CAEV,CAAC,CAED,cAAejB,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}